<div class="frame" ng-controller="PageCtrl" ng-style="config.style">
  <div class="vertical_divider"></div>
  <div id="turn_left">
    <a href="#" ng-click="turnLeft()"><img src="assets/left.png" class="arrow" /></a>
  </div>
  <div id="turn_right">
    <a href="#" ng-click="turnRight()"><img src="assets/right.png" class="arrow" /></a>
  </div>
  <div id="settings">
    <a href="#" ng-click="settings()"><img src="assets/settings.png" class="gear" /></a>
  </div>
  <div id="save">
    <a href="#" ng-click="save()"><img src="assets/save.png" class="save" /></a>
  </div>
  <div id="sign_up" ng-hide="userSignedIn">
    <a href="#" ng-click="signUpIn()"><img src="assets/sign_up.png" class="sign_up" /></a>
  </div>
  <div id="sign_out" ng-show="userSignedIn">
    <a href="#" ng-click="signOut()"><img src="assets/sign_out.png" class="sign_out" /></a>
  </div>
  <div id="page_counter">
    {{currentPageIdx + 1}} / {{maxPages}}
  </div>
  <div class="header" ng-style="{backgroundColor: config.style.backgroundColor}"></div>
  <div class="paper" ng-click="addContent($event)">
    <div ng-repeat="textarea in currentPage.textareas">
      <textarea type="text"
        ng-keydown="textListener($event);"
        ng-click="$event.stopPropagation();"
        ng-model="currentPage.textareas[$index].content"
        ng-blur="removeIfEmpty($event, $index)"
        ng-mouseup="rememberDimensions($event, $index)"
        ng-style="textarea.style"
        focused-on="$last"
        autogrow
        id="textarea_{{$index}}"
        class="text_area autogrow-short">
        {{textarea.content}}
      </textarea>
    </div>
  </div>
  <%= render 'settings' %>
  <%= render 'sign_up_in' %>
  <%= render 'save' %>
</div>
<script>function getUser () { return <%=raw @user %>}</script>
